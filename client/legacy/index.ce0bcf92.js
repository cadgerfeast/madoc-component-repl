import{s as n,n as r}from"./index.d9729fef.js";var e=[];function t(n,r){return{subscribe:i(n,r).subscribe}}function i(t){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,u=[];function f(r){if(n(t,r)&&(t=r,i)){for(var s=!e.length,f=0;f<u.length;f+=1){var o=u[f];o[1](),e.push(o,t)}if(s){for(var a=0;a<e.length;a+=2)e[a][0](e[a+1]);e.length=0}}}return{set:f,update:function(n){f(n(t))},subscribe:function(n){var e=[n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:r];return u.push(e),1===u.length&&(i=s(f)||r),n(t),function(){var n=u.indexOf(e);-1!==n&&u.splice(n,1),0===u.length&&(i(),i=null)}}}}export{t as r,i as w};
