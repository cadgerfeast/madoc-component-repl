import{_ as e}from"./typeof.321bbc66.js";import{_ as n,a as t}from"./asyncToGenerator.332733a3.js";import{g as r,_ as a,a as o,i as c,s as i,S as s,r as u,E as l,w as f,x as d,c as v,F as h,y as p,Q as m,N as y,b as w,z as b,O as g,G as j,q as x,v as E,V as k,W as $,n as C,d as I,C as V,D as O,T as D}from"./index.d9729fef.js";import M from"@babel/runtime/helpers/esm/createSuper";import{_ as L}from"./assertThisInitialized.bd636108.js";import S from"@babel/runtime/helpers/esm/createForOfIteratorHelper";import A from"@babel/runtime/helpers/esm/objectSpread2";function _(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function P(n){return"symbol"===e(n)?n:String(n)}function W(){return F.apply(this,arguments)}function F(){return(F=n(t.mark(function e(){var n,r=arguments;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1,e.abrupt("return",new Promise(function(e){setTimeout(function(){e()},n)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function K(e,n){e[n];return _(e,[n].map(P))}var N=r.window;function T(e,n,t){var r=e.slice();return r[40]=n[t],r[42]=t,r}function B(e){var n,t,r,a,o,c,i,s=e[40].name+"";function x(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e)[33].apply(n,[e[42]].concat(r))}return{c:function(){n=u("li"),t=u("i"),a=u("span"),o=l(s),c=u("i"),this.h()},l:function(e){n=f(e,"LI",{class:!0});var r=d(n);t=f(r,"I",{class:!0}),d(t).forEach(v),a=f(r,"SPAN",{class:!0});var i=d(a);o=h(i,s),i.forEach(v),c=f(r,"I",{class:!0}),d(c).forEach(v),r.forEach(v),this.h()},h:function(){p(t,"class",r=m("icon ".concat(e[40].lang))+" svelte-1iyw5jb"),p(a,"class","svelte-1iyw5jb"),p(c,"class",m("circle")+" svelte-1iyw5jb"),y(c,"active",e[12](e[40].name)),p(n,"class","svelte-1iyw5jb"),y(n,"active",e[13]().name===e[40].name)},m:function(e,r,s){w(e,n,r),b(n,t),b(n,a),b(a,o),b(n,c),s&&i(),i=g(n,"click",x)},p:function(a,i){e=a,16384&i[0]&&r!==(r=m("icon ".concat(e[40].lang))+" svelte-1iyw5jb")&&p(t,"class",r),16384&i[0]&&s!==(s=e[40].name+"")&&j(o,s),20480&i[0]&&y(c,"active",e[12](e[40].name)),24576&i[0]&&y(n,"active",e[13]().name===e[40].name)},d:function(e){e&&v(n),i()}}}function G(e){for(var n,t,r,a,o,c,i,s,l,h,m,j,V,O,D,M,L=e[14](),S=[],A=0;A<L.length;A+=1)S[A]=B(T(e,L,A));return{c:function(){n=u("div"),t=u("div"),r=u("div"),a=x(),o=u("div"),c=u("nav"),i=u("ul");for(var e=0;e<S.length;e+=1)S[e].c();s=x(),l=u("div"),h=x(),m=u("div"),j=u("div"),V=x(),O=u("div"),D=u("iframe"),this.h()},l:function(e){n=f(e,"DIV",{class:!0,style:!0});var u=d(n);t=f(u,"DIV",{class:!0,style:!0});var p=d(t);r=f(p,"DIV",{class:!0}),d(r).forEach(v),a=E(p),o=f(p,"DIV",{class:!0});var y=d(o);c=f(y,"NAV",{class:!0});var w=d(c);i=f(w,"UL",{class:!0});for(var b=d(i),g=0;g<S.length;g+=1)S[g].l(b);b.forEach(v),w.forEach(v),s=E(y),l=f(y,"DIV",{class:!0}),d(l).forEach(v),y.forEach(v),h=E(p),m=f(p,"DIV",{class:!0});var x=d(m);j=f(x,"DIV",{class:!0}),d(j).forEach(v),x.forEach(v),V=E(p),O=f(p,"DIV",{class:!0});var k=d(O);D=f(k,"IFRAME",{src:!0,class:!0,title:!0,frameBorder:!0,width:!0,height:!0}),d(D).forEach(v),k.forEach(v),p.forEach(v),u.forEach(v),this.h()},h:function(){p(r,"class","dummy-catcher svelte-1iyw5jb"),y(r,"active",e[9]),p(i,"class","svelte-1iyw5jb"),p(c,"class","svelte-1iyw5jb"),p(l,"class","editor-container svelte-1iyw5jb"),p(o,"class","editor svelte-1iyw5jb"),p(j,"class","border svelte-1iyw5jb"),p(m,"class","slider svelte-1iyw5jb"),D.src!=="javascript:void(0);"&&p(D,"src","javascript:void(0);"),p(D,"class","repl-view svelte-1iyw5jb"),p(D,"title","REPL"),p(D,"frameborder","0"),p(D,"width","100%"),p(D,"height","100%"),p(O,"class","iframe svelte-1iyw5jb"),p(t,"class","repl-container svelte-1iyw5jb"),k(t,"width",e[11]),y(t,"fullscreen",e[8]),p(n,"class","repl-wrapper svelte-1iyw5jb"),k(n,"height",e[10])},m:function(u,f,d){w(u,n,f),b(n,t),b(t,r),b(t,a),b(t,o),b(o,c),b(c,i);for(var v=0;v<S.length;v+=1)S[v].m(i,null);b(o,s),b(o,l),e[34](l),e[35](o),b(t,h),b(t,m),b(m,j),e[36](m),b(t,V),b(t,O),b(O,D),e[37](D),e[38](O),e[39](t),d&&$(M),M=[g(N,"keydown",e[19]),g(N,"mouseup",e[18]),g(N,"mousemove",e[32]),g(m,"mousedown",e[16])]},p:function(e,a){if(512&a[0]&&y(r,"active",e[9]),61440&a[0]){var o;for(L=e[14](),o=0;o<L.length;o+=1){var c=T(e,L,o);S[o]?S[o].p(c,a):(S[o]=B(c),S[o].c(),S[o].m(i,null))}for(;o<S.length;o+=1)S[o].d(1);S.length=L.length}2048&a[0]&&k(t,"width",e[11]),256&a[0]&&y(t,"fullscreen",e[8]),1024&a[0]&&k(n,"height",e[10])},i:C,o:C,d:function(t){t&&v(n),I(S,t),e[34](null),e[35](null),e[36](null),e[37](null),e[38](null),e[39](null),$(M)}}}function q(e,r,a){var o,c,i=C,s=function(){return i(),i=V(g,function(e){return a(26,o=e)}),g},u=C,l=function(){return u(),u=V(d,function(e){return a(27,c=e)}),d};e.$$.on_destroy.push(function(){return i()}),e.$$.on_destroy.push(function(){return u()});var f=r.context,d=r.theme;l();var v,h,p,m,y,w,b,g=r.themes;s();var j=!1,x=0,E=0,k={};function $(){var e,n=S(f.projects);try{for(n.s();!(e=n.n()).done;){var t,r=e.value,a=S(r.files);try{for(a.s();!(t=a.n()).done;){var o=t.value;o.userCode=o.content}}catch(e){a.e(e)}finally{a.f()}}}catch(e){n.e(e)}finally{n.f()}}function I(){return"dark"===o[c].type}function M(){d.subscribe(function(e){window.monaco.editor.setTheme(I()?"vs-dark":"vs")}),(w=window.monaco.editor.create(p,{value:R().content,language:R().lang,theme:I()?"vs-dark":"vs",automaticLayout:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,contextmenu:!1})).onDidChangeModelContent(function(){var e=n(t.mark(function e(n){var r,o;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:r=R(),o="".concat(r.name,"-").concat(x,"-").concat(E),w.getValue()===R().userCode?a(24,k=K(k,o)):a(24,k=A(A({},r),{},(n={},t=o,c=w.getValue(),t in n?Object.defineProperty(n,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[t]=c,n)));case 5:case"end":return e.stop()}var n,t,c},e)}));return function(n){return e.apply(this,arguments)}}()),w.addAction({id:"save",label:"Save",keybindings:[monaco.KeyMod.chord(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_S)],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){var e=R();e.userCode=w.getValue(),a(24,k=K(k,"".concat(e.name,"-").concat(x,"-").concat(E))),L()}}),w.addAction({id:"fullscreen",label:"Fullscreen",keybindings:[monaco.KeyCode.F11],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){var e=n(t.mark(function e(){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a(8,j=!j),e.next=3,W();case 3:w.layout();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()})}function L(){var e=f.projects[x].template;f.projects[x].files;b.contentWindow.document.removeEventListener("keydown",N),a(7,b=function(e,n){var t=document.createElement("iframe");t.src="javascript:void(0);",t.title=e.getAttribute("title"),t.frameBorder="0",t.className=e.className,t.width=e.width,t.height=e.height;var r=e.parentElement;return r.removeChild(e),r.appendChild(t),t.contentWindow.document.open(),t.contentWindow.document.write(n),t.contentWindow.document.close(),t}(b,function(e,n){var t=e;for(var r in n)for(;t.includes(r);)t=t.replace(r,n[r]);return t}(e,H()))),b.contentWindow.document.addEventListener("keydown",N)}function _(e){f.projects.length>1?a(22,x=e):a(23,E=e);var n=k["".concat(R().name,"-").concat(x,"-").concat(E)]||R().userCode;w.setValue(n),monaco.editor.setModelLanguage(w.getModel(),R().lang),f["run-on-switch"]&&L()}O(n(t.mark(function e(){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:require.config({paths:{vs:"/assets/monaco-editor/vs"}}),require(["vs/editor/editor.main"],function(){$(),M(),L()});case 2:case"end":return e.stop()}},e)})));var P=!1;function F(e){if(P){var n=v.getBoundingClientRect(),t=e.clientX-n.left;t<=n.width-150&&t>=150&&(a(3,h.style.left="".concat(t-4,"px"),h),a(5,m.style.width="".concat(t,"px"),m),a(4,p.style.width="".concat(t,"px"),p))}}function N(e){return T.apply(this,arguments)}function T(){return(T=n(t.mark(function e(n){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(122!==n.keyCode||!j){e.next=6;break}return n.preventDefault(),a(8,j=!1),e.next=5,W();case 5:w.layout();case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var B,G,q,R,z,H;return e.$set=function(e){"context"in e&&a(20,f=e.context),"theme"in e&&l(a(0,d=e.theme)),"themes"in e&&s(a(1,g=e.themes))},e.$$.update=function(){1048576&e.$$.dirty[0]&&a(10,B=f.height||"300px"),1048576&e.$$.dirty[0]&&a(11,G=f.width||"100%"),29360128&e.$$.dirty[0]&&a(12,q=function(e){return k["".concat(e,"-").concat(x,"-").concat(E)]}),13631488&e.$$.dirty[0]&&a(13,R=function(){return f.projects[x].files[E]}),1048576&e.$$.dirty[0]&&a(14,z=function(){if(f.projects.length>1){var e,n=[],t=S(f.projects);try{for(t.s();!(e=t.n()).done;){var r=e.value;n.push(r.files[0])}}catch(e){t.e(e)}finally{t.f()}return n}return f.projects[0].files}),5242880&e.$$.dirty[0]&&(H=function(){var e,n={},t=S(f.projects[x].files);try{for(t.s();!(e=t.n()).done;){var r=e.value;n[r.tpl]=r.userCode}}catch(e){t.e(e)}finally{t.f()}return n})},[d,g,v,h,p,m,y,b,j,P,B,G,q,R,z,_,function(){a(9,P=!0)},F,function(){a(9,P=!1)},N,f,w,x,E,k,H,o,c,$,I,M,L,function(e){F(e)},function(e){_(e)},function(e){D[e?"unshift":"push"](function(){a(4,p=e)})},function(e){D[e?"unshift":"push"](function(){a(5,m=e)})},function(e){D[e?"unshift":"push"](function(){a(3,h=e)})},function(e){D[e?"unshift":"push"](function(){a(7,b=e)})},function(e){D[e?"unshift":"push"](function(){a(6,y=e)})},function(e){D[e?"unshift":"push"](function(){a(2,v=e)})}]}export default(function(e){a(t,s);var n=M(t);function t(e){var r;return o(this,t),r=n.call(this),c(L(r),e,q,G,i,{context:20,theme:0,themes:1},[-1,-1]),r}return t}());
